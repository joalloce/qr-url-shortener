**_Told ChatGPT to create this readme_**

# URL Shortener and QR Code Generator API

This is an API that provides functionality for generating QR codes and shortening URLs. It is built with Node.js and the Express framework, and uses the `sharp`, `QRCode`, `uniqid`, and `valid-url` libraries.

## Usage

### URL Shortening

The API can shorten URLs by sending a POST request to the `/urlshorten` endpoint with a JSON payload containing a `url` field.

```http
POST /urlshorten HTTP/1.1
Content-Type: application/json

{
  "url": "https://example.com"
}
```

If the URL is valid, the API will generate a unique ID for the URL and map it to the original URL. The shortened URL will be returned in a JSON response.

```json
{
  "url": "http://localhost:5000/XXXXXXXX"
}
```

### URL Redirection

To redirect a shortened URL to its original source, send a GET request to the shortened URL, where `XXXXXXXX` is the unique ID generated by the API.

```http
GET /XXXXXXXX HTTP/1.1
```

If the URL exists, the API will redirect the request to the original source. If it does not exist, a 404 error will be returned.

### QR Code Generation

The API can generate QR codes by sending a POST request to the `/qrcode` endpoint with a JSON payload containing a `text` field.

```http
POST /qrcode HTTP/1.1
Content-Type: application/json

{
  "text": "Hello, world!"
}
```

The API will generate a QR code as a PNG image buffer and return it as the response.

### QR Code Generation for Shortened URLs

The API can generate QR codes for shortened URLs by sending a POST request to the `/qrurlshorten` endpoint with a JSON payload containing a `url` field.

```http
POST /qrurlshorten HTTP/1.1
Content-Type: application/json

{
  "url": "https://example.com"
}
```

If the URL is valid, the API will generate a unique ID for the URL, map it to the original URL, generate a QR code for the shortened URL as a PNG image buffer, and return it as the response.

## API Endpoints

The following endpoints are available in the API:

| Endpoint        | Method | Description                                                                                                      |
| --------------- | ------ | ---------------------------------------------------------------------------------------------------------------- |
| `/`             | `GET`  | Returns a JSON response to test the server connection.                                                           |
| `/urlshorten`   | `POST` | Shortens a URL and returns the shortened URL as a JSON response.                                                 |
| `/:id`          | `GET`  | Redirects a shortened URL to its original source, or returns a 404 error if the URL does not exist.              |
| `/qrcode`       | `POST` | Generates a QR code as a PNG image buffer from the input text and returns it as the response.                    |
| `/qrurlshorten` | `POST` | Shortens a URL, generates a QR code for the shortened URL as a PNG image buffer, and returns it as the response. |

## Installation and Setup

To install and run the API, follow these steps:

1. Clone this repository.
2. Navigate to the cloned directory in a terminal.
3. Install the dependencies using `npm install`.
4. Start the server using `npm start`.

The server will be listening on port `5000` by default.
